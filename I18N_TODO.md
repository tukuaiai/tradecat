# i18n å…¨å±€é€‚é…æ£€æŸ¥æ¸…å•

> ç”Ÿæˆæ—¶é—´: 2026-01-05
> å½“å‰è¿›åº¦: ~80%

---

## ğŸ“Š æ€»ä½“ç»Ÿè®¡

| æ¨¡å— | ä¸­æ–‡è¡Œæ•° | æŒ‰é’®æ•° | çŠ¶æ€ |
|------|----------|--------|------|
| `bot/app.py` | 1455 | 101 | ğŸŸ¡ æŒ‰é’®/æ ‡é¢˜å·²æ›¿æ¢ï¼Œå¾…å¡ç‰‡/ä¿¡å· |
| `cards/basic/*.py` | ~200 | æŒ‰é’® | ğŸŸ¢ æŒ‰é’®å·² i18nï¼Œå­—æ®µ/æè¿°å¾…è¡¥ |
| `cards/advanced/*.py` | ~150 | æŒ‰é’® | ğŸŸ¢ æŒ‰é’®å·² i18nï¼Œå­—æ®µ/æè¿°å¾…è¡¥ |
| `cards/futures/*.py` | ~200 | æŒ‰é’® | ğŸŸ¢ æŒ‰é’®å·² i18nï¼Œå­—æ®µ/æè¿°å¾…è¡¥ |
| `cards/data_provider.py` | ~50 | - | âŒ æœªå¼€å§‹ |
| `signals/*.py` | ~50 | - | âŒ æœªå¼€å§‹ |
| `bot/single_token_snapshot.py` | ~100 | - | ğŸŸ¢ æ ‡é¢˜/æç¤ºå·² i18nï¼Œå­—æ®µå¾…è¯„ä¼° |

---

## âœ… å·²å®Œæˆ

### 1. åŸºç¡€è®¾æ–½
- [x] `libs/common/i18n.py` - i18n æœåŠ¡ç±»
- [x] `locales/zh_CN/LC_MESSAGES/bot.po` - ä¸­æ–‡è¯æ¡ (50+)
- [x] `locales/en/LC_MESSAGES/bot.po` - è‹±æ–‡è¯æ¡ (50+)
- [x] ç¼–è¯‘ `.mo` æ–‡ä»¶
- [x] ç¿»è¯‘ç¼ºå¤±å‘Šè­¦ï¼ˆæ—¥å¿—ä¸€æ¬¡æ€§è®°å½•ï¼‰ï¼Œç¼ºè¯å›é€€åŸå€¼

### 2. è¾…åŠ©å‡½æ•° (app.py)
- [x] `_t(update, key)` - è·å–ç¿»è¯‘
- [x] `_btn(update, key, callback)` - å›½é™…åŒ–æŒ‰é’®å·¥å‚
- [x] `_btn_lang(lang, key, callback)` - æŒ‰è¯­è¨€åˆ›å»ºæŒ‰é’®
- [x] `_sort_text(update, order)` - æ’åºæ–‡æœ¬
- [x] `_period_text(_lang)` - å‘¨æœŸç¼ºè¯å®‰å…¨å›é€€

### 3. æ ¸å¿ƒç•Œé¢
- [x] ä¸»èœå•æ–‡æœ¬ `menu.main_text`
- [x] åº•éƒ¨é”®ç›˜ `kb.*`
- [x] å¸®åŠ©é¡µé¢ `help.body`
- [x] è¯­è¨€åˆ‡æ¢ `lang.*`
- [x] å¯åŠ¨æ¶ˆæ¯ `start.*`

### 4. é”™è¯¯æ¶ˆæ¯
- [x] `error.not_ready` - ç³»ç»Ÿæœªå°±ç»ª
- [x] `error.query_failed` - æŸ¥è¯¢å¤±è´¥
- [x] `error.refresh_failed` - åˆ·æ–°å¤±è´¥
- [x] `error.export_failed` - å¯¼å‡ºå¤±è´¥
- [x] `error.status_failed` - çŠ¶æ€è·å–å¤±è´¥
- [x] `query.disabled` - å•å¸æŸ¥è¯¢å…³é—­
- [x] `query.hint` - æŸ¥è¯¢æç¤º
- [x] `feature.coming_soon` - åŠŸèƒ½å¼€å‘ä¸­
- [x] `signal.coming_soon` - ä¿¡å·åŠŸèƒ½å¼€å‘ä¸­

### 5. é¢æ¿æŒ‰é’®
- [x] `panel.basic` - ğŸ’µåŸºç¡€
- [x] `panel.futures` - ğŸ“‘åˆçº¦
- [x] `panel.advanced` - ğŸ§ é«˜çº§
- [x] `panel.pattern` - ğŸ•¯ï¸å½¢æ€

### 6. é€šç”¨æŒ‰é’®
- [x] `btn.back_home` - ğŸ  è¿”å›ä¸»èœå•
- [x] `btn.refresh` - ğŸ”„ åˆ·æ–°
- [x] `btn.next_page` - ä¸‹ä¸€é¡µ â¡ï¸
- [x] `btn.prev_page` - â¬…ï¸ ä¸Šä¸€é¡µ
- [x] `btn.asc` - å‡åº
- [x] `btn.desc` - é™åº
- [x] `btn.show_more` - æ˜¾ç¤ºæ›´å¤š
- [x] æ’åº/æ•°é‡/å¸‚åœº/æµå‘æŒ‰é’® i18n åŒ–ï¼ˆæ¯”ç‡ã€èµ„é‡‘æµå‘ã€æŒä»“æ’è¡Œç­‰ï¼‰
- [x] ä¸»èœå•è¿”å›é”®å…¨é‡æ›¿æ¢ `_btn/_btn_lang`

### 7. æ’è¡Œæ¦œä¸æ ‡é¢˜
- [x] æˆäº¤é‡/ç°è´§æˆäº¤é‡æ ‡é¢˜ â†’ `ranking.volume` / `ranking.spot_volume`
- [x] æŒä»“/å¸‚å€¼ã€äº¤æ˜“é‡ç›¸å…³æ¯”ç‡æ ‡é¢˜ â†’ `ranking.ratio.*`
- [x] èµ„é‡‘æµå‘æ ‡é¢˜ â†’ `flow.title.*`
- [x] æ—¶é—´æ˜¾ç¤º â†’ `time.update` / `time.last_update`
- [x] å‘¨æœŸæ˜¾ç¤º â†’ `period.*`
- [x] èµ„é‡‘æµå‘è¯´æ˜æ–‡æœ¬ â†’ `flow.desc.*`ï¼ˆå«æœŸæƒæµå‘ï¼‰

---

## ğŸ”„ è¿›è¡Œä¸­

### app.py / snapshot å‰©ä½™å·¥ä½œ
- [ ] å¡ç‰‡æ³¨å†Œ/ä¿¡å·/æ—¥å¿—ç­‰é›¶æ•£ä¸­æ–‡ï¼ˆéƒ¨åˆ†æŒ‰é’®å·² i18nï¼Œä»éœ€å­—æ®µ/æç¤ºï¼‰
- [ ] å•å¸å¿«ç…§å­—æ®µæ˜ å°„ï¼ˆå¸¦å®½/æ”¯æ’‘ä½ç­‰ï¼‰
- [ ] snapshot è¡¨å¤´å­—æ®µç¿»è¯‘ï¼ˆå­—æ®µå/å¡ç‰‡åï¼‰

---

## âŒ æœªå¼€å§‹

### 1. å¡ç‰‡æ¨¡å— (cards/*.py)
- [x] æŒ‰é’®æ–‡æœ¬ç»Ÿä¸€ `_btn_auto`
- [ ] æ ‡é¢˜/æè¿°/FALLBACK/æç¤ºè¯æ¡åŒ–ï¼ˆå‚ç…§ trendline/divergence æ¨¡æ¿ï¼‰
- [ ] å­—æ®µæ ‡ç­¾ä¸æ¥æºè¯´æ˜è¯æ¡åŒ–

### 6. ä¿¡å·æ¨¡å— (signals/*.py)

```python
# engine_v2.py
f"éæ³•è¡¨å: {table}"
f"è¯»å–è¡¨ {table} å¤±è´¥: {e}"
f"ä¿¡å·è§¦å‘: {symbol} {rule.direction} - {rule.name}"

# formatter.py
ä¿¡å·æ ¼å¼åŒ–æ–‡æœ¬
```

### 7. å•å¸å¿«ç…§ (single_token_snapshot.py)

```python
# å­—æ®µæ˜ å°„
("bandwidth", "å¸¦å®½")
("ç™¾åˆ†æ¯”b", "ç™¾åˆ†æ¯”")
("æ”¯æ’‘ä½", "æ”¯æ’‘ä½")
("é˜»åŠ›ä½", "é˜»åŠ›ä½")
```

---

## ğŸ“ éœ€è¦æ–°å¢çš„è¯æ¡

### bot.po è¡¥å……è¯æ¡

```po
# å‘¨æœŸ
msgid "period.5m"
msgstr "5åˆ†é’Ÿ" / "5min"

msgid "period.15m"
msgstr "15åˆ†é’Ÿ" / "15min"

msgid "period.1h"
msgstr "1å°æ—¶" / "1hour"

msgid "period.4h"
msgstr "4å°æ—¶" / "4hours"

msgid "period.24h"
msgstr "24å°æ—¶" / "24hours"

# æ’è¡Œæ¦œ
msgid "ranking.spot_volume"
msgstr "ğŸ’¹ ç°è´§äº¤æ˜“é‡æ’è¡Œæ¦œ ğŸ’¹" / "ğŸ’¹ Spot Volume Ranking ğŸ’¹"

# æ•°æ®å­—æ®µï¼ˆå¯é€‰ï¼Œä¿æŒä¸­æ–‡ä¹Ÿå¯ï¼‰
msgid "field.volume"
msgstr "æˆäº¤é¢" / "Volume"

msgid "field.amplitude"
msgstr "æŒ¯å¹…" / "Amplitude"

msgid "field.trades"
msgstr "æˆäº¤ç¬”æ•°" / "Trades"
```

---

## ğŸ”§ å®æ–½å»ºè®®

### ä¼˜å…ˆçº§ P0 (ç”¨æˆ·ç›´æ¥å¯è§)
1. å‰©ä½™æŒ‰é’®æ›¿æ¢ (~100å¤„)
2. æ’è¡Œæ¦œæ ‡é¢˜æ›¿æ¢ (~10å¤„)
3. é”™è¯¯æ¶ˆæ¯è¡¥å…¨
4. CI å¢åŠ  i18n è¯æ¡æ£€æŸ¥ï¼ˆå·²æ¥å…¥ `scripts/verify.sh`ï¼Œéœ€ä¿æŒé€šè¿‡ï¼‰

### ä¼˜å…ˆçº§ P1 (åŠŸèƒ½ç•Œé¢)
1. èµ„é‡‘æµå‘æ ‡é¢˜
2. æ—¶é—´æ˜¾ç¤ºæ ¼å¼
3. å‘¨æœŸæ˜¾ç¤º

### ä¼˜å…ˆçº§ P2 (æ•°æ®å±•ç¤º)
1. å¡ç‰‡æ¨¡å— - å¯ä¿æŒä¸­æ–‡å­—æ®µå
2. ä¿¡å·æ¨¡å—
3. å•å¸å¿«ç…§

### ä¼˜å…ˆçº§ P3 (å†…éƒ¨æ—¥å¿—)
1. æ—¥å¿—æ¶ˆæ¯ - å¯ä¿æŒä¸­æ–‡
2. æ³¨é‡Š - æ— éœ€ç¿»è¯‘

---

## ğŸ“‹ æ£€æŸ¥å‘½ä»¤

```bash
# ç»Ÿè®¡å‰©ä½™ä¸­æ–‡æŒ‰é’®
grep -nP 'InlineKeyboardButton.*[\x{4e00}-\x{9fff}]' src/bot/app.py | wc -l

# ç»Ÿè®¡å‰©ä½™ä¸­æ–‡è¡Œ
grep -cP '[\x{4e00}-\x{9fff}]' src/bot/app.py

# æŸ¥æ‰¾ç‰¹å®šä¸­æ–‡
grep -n '"è¿”å›ä¸»èœå•"' src/bot/app.py

# éªŒè¯ç¿»è¯‘æ–‡ä»¶
msgfmt --check locales/zh_CN/LC_MESSAGES/bot.po
msgfmt --check locales/en/LC_MESSAGES/bot.po
```

---

## ğŸ“… æ›´æ–°è®°å½•

| æ—¥æœŸ | å†…å®¹ |
|------|------|
| 2026-01-05 | åˆå§‹åˆ›å»ºï¼Œå®Œæˆæ ¸å¿ƒç•Œé¢é€‚é… (~30%) |
